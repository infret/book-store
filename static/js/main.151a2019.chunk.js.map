{"version":3,"sources":["actions.ts","components/BookCard.tsx","components/BookContainer.ts","components/Filter.tsx","components/FilterContainer.ts","components/Books.tsx","components/BooksContainer.ts","resources/book.svg","resources/cart.svg","resources/close.svg","components/Cart.tsx","components/CartContainer.ts","components/Header.tsx","components/HeaderContainer.ts","components/Footer.tsx","reducer.ts","index.tsx"],"names":["showBooks","books","type","payload","sortBooks","sortBy","filterBooks","filterBy","addToCart","id","removeFromCart","toggleCart","Card","styled","li","Preview","img","Title","h3","Author","p","Container","div","Price","Button","button","BookCard","book","src","image","alt","title","author","price","onClick","connect","dispatch","bindActionCreators","actions","Sort","form","Label","label","Select","select","Searchbar","input","Filter","onChange","e","target","value","placeholder","htmlFor","disabled","state","booksActions","Body","StyledUl","ul","Loading","MoreButton","a","Placeholder","filter","object","toLowerCase","indexOf","sort","b","localeCompare","rating","items","isReady","useEffect","fetch","method","then","res","json","data","console","log","map","i","length","CartItems","CloseButton","closeIcon","CartItem","ItemPreview","ItemDesc","ItemButton","CheckoutContainer","CartText","CheckoutButton","NavLink","CartHeading","Cart","total","cartCount","cartItems","item","count","to","forEach","Set","parseInt","reduce","toFixed","header","Logo","h1","CartButton","cartIcon","CartDot","Header","isCartShown","href","bookIcon","footer","Link","Footer","initialState","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","store","createStore","action","document","getElementById"],"mappings":"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","file":"static/js/main.151a2019.chunk.js","sourcesContent":["import {Book} from './types'\r\n\r\nexport const showBooks = (books : Book[]) => ({type: 'SHOW_BOOKS', payload: books})\r\nexport const sortBooks = (sortBy : string) => ({type: 'SORT_BOOKS', payload: sortBy})\r\nexport const filterBooks = (filterBy : string) => ({type: 'FILTER_BOOKS', payload: filterBy})\r\nexport const addToCart = (id : number) => ({type: 'ADD_TO_CART', payload: id})\r\nexport const removeFromCart = (id: number) => ({type: 'REMOVE_FROM_CART', payload: id})\r\nexport const toggleCart = () => ({type: 'TOGGLE_CART'})\r\n","import styled from 'styled-components'\r\nimport { Book } from '../types'\r\nimport React from 'react'\r\n\r\nconst Card = styled.li`\r\n  width: 180px;\r\n  margin-top: 10px;\r\n  box-shadow: var(--low-elevation);\r\n  border-radius: 4px;\r\n  transition: ease 0.4s;\r\n\r\n  :hover {\r\n    box-shadow: var(--high-elevation);\r\n  }\r\n`\r\n\r\nconst Preview = styled.img`\r\n  width: 100%;\r\n  display: block;\r\n  height: 250px;\r\n  margin: 0 auto;\r\n  border-radius: 4px 4px 0 0;\r\n  @media (max-width: 360px) {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`\r\n\r\nconst Title = styled.h3`\r\n  font-size: 17px;\r\n  margin: 10px;\r\n  font-weight: 500;\r\n  width: 90%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`\r\n\r\nconst Author = styled.p`\r\n  margin: 0 10px;\r\n  color: grey;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nconst Price = styled.p`\r\n  font-weight: 600;\r\n  margin: 10px;\r\n  width: 32px;\r\n`\r\n\r\nconst Button = styled.button`\r\n  background-color: var(--accent-color);\r\n  color: white;\r\n  border: var(--accent-color) solid 2px;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  font-size: 15px;\r\n  transition: ease 0.4s;\r\n\r\n  :hover {\r\n    color: var(--accent-color);\r\n    background-color: white;\r\n  }\r\n`\r\n\r\nconst BookCard = (book: Book) => (\r\n  <Card>\r\n    <Preview src={book.image} alt='' />\r\n    <Title>{book.title}</Title>\r\n    <Author>{book.author}</Author>\r\n    <Container>\r\n      <Price>${book.price}</Price>\r\n      <Button onClick={() => book.addToCart(book.id)}>Add to cart</Button>\r\n    </Container>\r\n  </Card>\r\n)\r\nexport default BookCard\r\n","import {connect} from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport BookCard from './BookCard'\r\nimport {bindActionCreators, Dispatch} from 'redux'\r\n\r\nconst mapStateToProps = () => ({})\r\n\r\nconst mapDispatchToProps = (dispatch : Dispatch) => ({\r\n\t...bindActionCreators(actions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookCard)","import styled from 'styled-components'\r\nimport React from 'react'\r\n\r\nconst Sort = styled.form`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  margin-top: 10px;\r\n`\r\n\r\nconst Label = styled.label`\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  color: var(--accent-color);\r\n  margin-left: 10px;\r\n`\r\n\r\nconst Select = styled.select`\r\n  color: grey;\r\n  background-color: transparent;\r\n  border: 2px solid var(--accent-color);\r\n  outline: none;\r\n  height: 36px;\r\n  width: 200px;\r\n  font-size: 16px;\r\n  line-height: 1;\r\n  border-radius: 4px;\r\n  margin: 8px;\r\n  padding: 6px;\r\n  opacity: 1;\r\n  transition: ease 0.4s;\r\n\r\n  :hover {\r\n    background-color: var(--grey-color);\r\n  }\r\n\r\n  & > option:first-child {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Searchbar = styled.input`\r\n  color: grey;\r\n  background-color: transparent;\r\n  border: 2px solid var(--accent-color);\r\n  outline: none;\r\n  height: 36px;\r\n  width: 200px;\r\n  font-size: 16px;\r\n  line-height: 1;\r\n  border-radius: 4px;\r\n  margin: 8px;\r\n  padding: 6px;\r\n  transition: ease 0.4s;\r\n\r\n  @media (max-width: 520px) {\r\n    width: 270px;\r\n  }\r\n\r\n  :placeholder {\r\n    opacity: 1;\r\n  }\r\n\r\n  :hover {\r\n    background-color: var(--grey-color);\r\n  }\r\n`\r\n\r\ninterface Props {\r\n  sortBy: string\r\n  sortBooks: (sortBy: string) => void\r\n  filterBy: string\r\n  filterBooks: (filterBy: string) => void\r\n}\r\n\r\nconst Filter = ({ sortBooks, sortBy, filterBooks, filterBy }: Props) => (\r\n  <Sort>\r\n    <Searchbar\r\n      type='search'\r\n      onChange={(e) => filterBooks(e.target.value)}\r\n      value={filterBy}\r\n      placeholder='Search'\r\n    />\r\n    <div>\r\n      <Label htmlFor='sortby'>Sort by:</Label>\r\n      <Select\r\n        id='sortby'\r\n        value={sortBy}\r\n        onChange={(e) => sortBooks(e.target.value)}\r\n      >\r\n        <option disabled value='placeholder'>\r\n          Sort by\r\n        </option>\r\n        <option value='rating'>Rating</option>\r\n        <option value='price'>Price</option>\r\n        <option value='title'>Title</option>\r\n        <option value='author'>Author</option>\r\n      </Select>\r\n    </div>\r\n  </Sort>\r\n)\r\n\r\nexport default Filter\r\n","import { connect } from 'react-redux'\r\nimport * as booksActions from '../actions'\r\nimport Filter from './Filter'\r\nimport { bindActionCreators, Dispatch } from 'redux'\r\nimport { State } from '../types'\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  sortBy: state.sortBy,\r\n  filterBy: state.filterBy\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n  ...bindActionCreators(booksActions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter)\r\n","import React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Book } from '../types'\r\nimport BookCard from './BookContainer'\r\nimport SortField from './FilterContainer'\r\n\r\nconst Body = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0 auto;\r\n  max-width: 1000px;\r\n  min-height: 90vh;\r\n`\r\n\r\nconst StyledUl = styled.ul`\r\n  display: grid;\r\n  grid-gap: 5px;\r\n  grid-template-columns: repeat(auto-fill, 180px);\r\n  list-style-type: none;\r\n  justify-content: space-evenly;\r\n  position: relative;\r\n`\r\n\r\nconst Loading = styled.div`\r\n  border-radius: 50%;\r\n  width: 50px;\r\n  height: 50px;\r\n  position: absolute;\r\n  top: 30vh;\r\n  left: calc(50% - 27px);\r\n  border: 5px solid gainsboro;\r\n  border-left: 5px solid var(--accent-color);\r\n  animation: loading 1s infinite linear;\r\n\r\n  :after {\r\n    border-radius: 50%;\r\n    width: 50px;\r\n    height: 50px;\r\n  }\r\n\r\n  @keyframes loading {\r\n    0% {\r\n      transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`\r\n\r\nconst MoreButton = styled.a`\r\n  background-color: var(--accent-color);\r\n  color: white;\r\n  display: block;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  font-size: 18px;\r\n  width: 250px;\r\n  text-align: center;\r\n  margin: 20px auto;\r\n  border: var(--accent-color) solid 2px;\r\n  transition: ease 0.4s;\r\n\r\n  :hover {\r\n    color: var(--accent-color);\r\n    background-color: white;\r\n  }\r\n`\r\n\r\nconst Placeholder = styled.p`\r\n  height: 30px;\r\n  width: 130px;\r\n  display: block;\r\n  font-weight: bold;\r\n  color: var(--accent-color);\r\n  margin: 100px auto;\r\n  font-size: 18px;\r\n`\r\n\r\ninterface Props {\r\n  books: Book[]\r\n  isReady: boolean\r\n  showBooks: (books: Book[]) => void\r\n}\r\n\r\nexport default function Books({ books, isReady, showBooks }: Props) {\r\n  useEffect(() => {\r\n    fetch(\r\n      'https://secret-ocean-49799.herokuapp.com/https://infret.github.io/book-store/books.json',\r\n      {\r\n        method: 'GET'\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        showBooks(data)\r\n        console.log(data)\r\n      })\r\n  }, [showBooks])\r\n\r\n  return (\r\n    <Body>\r\n      <SortField />\r\n      {isReady ? (\r\n        <div>\r\n          <StyledUl>\r\n            {books.map((book, i) => (\r\n              <BookCard key={i} {...book} />\r\n            ))}\r\n            {books.length === 0 && <Placeholder>Nothing found</Placeholder>}\r\n          </StyledUl>\r\n          <MoreButton>Browse more books</MoreButton>\r\n        </div>\r\n      ) : (\r\n        <Loading />\r\n      )}\r\n    </Body>\r\n  )\r\n}\r\n","import { State, Book } from './../types'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport Books from './Books'\r\nimport { bindActionCreators, Dispatch } from 'redux'\r\n\r\nconst sortBy = (books: Book[], sortBy: string, filterBy: string) => {\r\n  books = books.filter(\r\n    (object) =>\r\n      object.title.toLowerCase().indexOf(filterBy.toLowerCase()) >= 0 ||\r\n      object.author.toLowerCase().indexOf(filterBy.toLowerCase()) >= 0\r\n  )\r\n  switch (sortBy) {\r\n    case 'price':\r\n      return books.sort((a, b) => a.price - b.price)\r\n    case 'title':\r\n      return books.sort((a, b) => a.title.localeCompare(b.title))\r\n    case 'author':\r\n      return books.sort((a, b) => a.author.localeCompare(b.author))\r\n    default:\r\n      return books.sort((a, b) => b.rating - a.rating)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  books: state.items ? sortBy(state.items, state.sortBy, state.filterBy) : [],\r\n  isReady: state.isReady\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n  ...bindActionCreators(actions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Books)\r\n","export default __webpack_public_path__ + \"static/media/book.60b02366.svg\";","export default __webpack_public_path__ + \"static/media/cart.c058d20a.svg\";","export default __webpack_public_path__ + \"static/media/close.2548618f.svg\";","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { NavLink } from 'react-router-dom'\r\nimport closeIcon from '../resources/close.svg'\r\nimport { Book } from '../types'\r\n\r\nconst Body = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  min-height: 60px;\r\n  max-height: 90vh;\r\n  max-width: 400px;\r\n  background-color: white;\r\n  border-radius: 0 0 4px 4px;\r\n  box-shadow: var(--low-elevation);\r\n`\r\n\r\nconst CartItems = styled.div`\r\n  overflow-y: auto;\r\n  max-height: calc(90vh - 120px);\r\n`\r\n\r\nconst CloseButton = styled.button`\r\n  background-color: white;\r\n  background-image: url(${closeIcon});\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  border: none;\r\n  margin: 0 20px;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 0;\r\n  display: inline;\r\n  border-radius: 5px;\r\n  padding: 6px;\r\n  height: 40px;\r\n  width: 40px;\r\n  transition: ease 0.4s;\r\n\r\n  :hover {\r\n    background-color: var(--grey-color);\r\n  }\r\n`\r\n\r\nconst CartItem = styled.div`\r\n  display: grid;\r\n  width: 100%;\r\n  align-items: center;\r\n  grid-template-rows: 80px;\r\n  grid-template-columns: 70px 1fr 20px 100px;\r\n  grid-template-areas: 'img desc count btn';\r\n`\r\n\r\nconst ItemPreview = styled.img`\r\n  height: 70px;\r\n  width: auto;\r\n  margin: 5px 10px;\r\n  grid-area: img;\r\n`\r\n\r\nconst ItemDesc = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  min-width: 150px;\r\n  grid-area: desc;\r\n`\r\n\r\nconst Title = styled.h3`\r\n  font-size: 17px;\r\n  font-weight: 500;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`\r\n\r\nconst Author = styled.p`\r\n  color: grey;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`\r\n\r\nconst ItemButton = styled.button`\r\n  background-color: var(--danger-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  margin: 10px 10px 10px auto;\r\n  font-size: 15px;\r\n  height: 37px;\r\n`\r\n\r\nconst CheckoutContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst CartText = styled.p`\r\n  margin: 10px;\r\n  min-width: 20px;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  color: var(--accent-color);\r\n`\r\n\r\nconst CheckoutButton = styled(NavLink)`\r\n  background-color: var(--accent-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  font-size: 15px;\r\n  margin: 10px 10px 10px auto;\r\n`\r\n\r\nconst CartHeading = styled.p`\r\n  color: var(--accent-color);\r\n  font-size: 20px;\r\n  margin-left: 10px;\r\n  font-weight: bold;\r\n  display: inline;\r\n  line-height: 60px;\r\n`\r\n\r\ninterface Props {\r\n  total: number\r\n  cartCount: number\r\n  cartItems: Book[]\r\n  removeFromCart: (id: number) => void\r\n  toggleCart: () => void\r\n}\r\n\r\nconst Cart = ({ total, cartCount, cartItems, removeFromCart, toggleCart }: Props) => (\r\n  <Body>\r\n    <CartHeading>Cart</CartHeading>\r\n    {cartCount ? (\r\n      <>\r\n        <CartItems>\r\n          {cartItems.map((item) => (\r\n            <CartItem key={item.id}>\r\n              <ItemPreview src={item.image} />\r\n              <ItemDesc>\r\n                <Title>{item.title}</Title>\r\n                <Author>{item.author}</Author>\r\n              </ItemDesc>\r\n              <CartText>{item.count}</CartText>\r\n              <ItemButton onClick={() => removeFromCart(item.id)}>Remove</ItemButton>\r\n            </CartItem>\r\n          ))}\r\n        </CartItems>\r\n        <CheckoutContainer>\r\n          <CartText>\r\n            Total: {cartCount} book{cartCount !== 1 && 's'} worth ${total}\r\n          </CartText>\r\n          <CheckoutButton to='/checkout'>Checkout</CheckoutButton>\r\n        </CheckoutContainer>\r\n      </>\r\n    ) : (\r\n      <CartHeading>is empty</CartHeading>\r\n    )}\r\n    <CloseButton onClick={toggleCart} />\r\n  </Body>\r\n)\r\nexport default Cart\r\n","import { Book, State } from './../types'\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport { bindActionCreators, Dispatch } from 'redux'\r\nimport Cart from './Cart'\r\n\r\nfunction countItems(items: Book[]) {\r\n  items.forEach((item) => {\r\n    item.count = items.filter((object) => object.id === item.id).length\r\n  })\r\n  return [...new Set(items)]\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  cartItems: countItems(state.cartItems),\r\n  total: parseInt(state.cartItems.reduce((total, item) => total + item.price, 0).toFixed(1)),\r\n  cartCount: state.cartItems.length\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n  ...bindActionCreators(actions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)\r\n","import React from 'react'\r\nimport bookIcon from '../resources/book.svg'\r\nimport cartIcon from '../resources/cart.svg'\r\nimport styled from 'styled-components'\r\nimport Cart from './CartContainer'\r\n\r\nconst Body = styled.header`\r\n  box-shadow: var(--low-elevation);\r\n  height: 60px;\r\n  display: flex;\r\n  top: 0;\r\n  z-index: 1;\r\n  background-color: white;\r\n  border-radius: 0 0 4px 4px;\r\n  align-items: center;\r\n  position: sticky;\r\n  width: 100%;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n`\r\n\r\nconst Logo = styled.a`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 20px;\r\n  text-decoration: none;\r\n`\r\n\r\nconst Title = styled.h1`\r\n  font-weight: bold;\r\n  margin-left: 5px;\r\n  font-size: 20px;\r\n  color: var(--accent-color);\r\n`\r\n\r\nconst CartButton = styled.button`\r\n  background-color: white;\r\n  background-image: url(${cartIcon});\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  border: none;\r\n  margin: 0 20px 0 auto;\r\n  position: relative;\r\n  border-radius: 5px;\r\n  padding: 6px;\r\n  height: 40px;\r\n  width: 40px;\r\n  transition: ease 0.4s;\r\n\r\n  :hover {\r\n    background-color: var(--grey-color);\r\n  }\r\n`\r\n\r\nconst CartDot = styled.div`\r\n  width: 16px;\r\n  height: 16px;\r\n  font-size: 13px;\r\n  line-height: 15px;\r\n  color: white;\r\n  font-weight: bold;\r\n  border-radius: 50%;\r\n  background-color: var(--danger-color);\r\n  position: absolute;\r\n  top: 0;\r\n  right: -2px;\r\n`\r\n\r\ninterface Props {\r\n  count: number\r\n  toggleCart: () => void\r\n  isCartShown: boolean\r\n}\r\n\r\nconst Header = ({ count, toggleCart, isCartShown }: Props) => (\r\n  <Body>\r\n    <Logo href='#'>\r\n      <img src={bookIcon} alt='' />\r\n      <Title>Bookstore</Title>\r\n    </Logo>\r\n    <CartButton onClick={toggleCart}>\r\n      {count > 0 && <CartDot>{count}</CartDot>}\r\n    </CartButton>\r\n    {isCartShown && <Cart />}\r\n  </Body>\r\n)\r\nexport default Header\r\n","import {connect} from 'react-redux'\r\nimport * as actions from '../actions'\r\nimport {bindActionCreators, Dispatch} from 'redux'\r\nimport Header from './Header'\r\nimport {State} from '../types'\r\n\r\nconst mapStateToProps = (state : State) => ({\r\n\tcount: state.cartItems.length,\r\n\ttoggleCart: state.toggleCart,\r\n\tisCartShown: state.isCartShown,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch : Dispatch) => ({\r\n\t...bindActionCreators(actions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import styled from 'styled-components'\r\nimport React from 'react'\r\n\r\nconst Body = styled.footer`\r\n\tbox-shadow: var(--low-elevation);\r\n\theight: 60px;\r\n\tdisplay: flex;\r\n\tbackground-color: white;\r\n\tborder-radius: 4px 4px 0 0;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n\tmax-width: 1000px;\r\n\tmargin: 20px auto 0 auto;\r\n\tposition: relative;\r\n\tbottom: 0;\r\n`\r\n\r\nconst Link = styled.a`\r\n\tdisplay: block;\r\n\ttext-transform: lowercase;\r\n\tfont-family: serif;\r\n\tcolor: grey;\r\n\tmargin: 0 auto;\r\n`\r\n\r\nconst Footer = () => (\r\n\t\t<Body>\r\n\t\t\t<Link href='https://infret.github.io'><i>by Infret</i></Link>\r\n\t\t</Body>\r\n)\r\nexport default Footer","import { Action, Book } from './types'\r\n\r\nconst initialState = {\r\n  items: [],\r\n  isCartShown: false,\r\n  isReady: false,\r\n  cartItems: [],\r\n  sortBy: '',\r\n  filterBy: ''\r\n}\r\n\r\nexport default function reducer(state = initialState, action: Action) {\r\n  switch (action.type) {\r\n    case 'SHOW_BOOKS':\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n        isReady: true\r\n      }\r\n    case 'SORT_BOOKS':\r\n      return {\r\n        ...state,\r\n        sortBy: action.payload\r\n      }\r\n    case 'FILTER_BOOKS':\r\n      return {\r\n        ...state,\r\n        filterBy: action.payload\r\n      }\r\n    case 'ADD_TO_CART':\r\n      return {\r\n        ...state,\r\n        cartItems: [...state.cartItems, state.items[action.payload]],\r\n        isCartShown: false\r\n      }\r\n    case 'REMOVE_FROM_CART':\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter(\r\n        (item: Book) => item.id !== action.payload),\r\n        isCartShown: true\r\n      }\r\n    case 'TOGGLE_CART':\r\n      return {\r\n        ...state,\r\n        isCartShown: !state.isCartShown\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { createGlobalStyle } from 'styled-components'\r\nimport { Provider } from 'react-redux'\r\nimport Books from './components/BooksContainer'\r\nimport Header from './components/HeaderContainer'\r\nimport Footer from './components/Footer'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport reducer from './reducer'\r\nimport { createStore } from 'redux'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n\t* {\r\n\t\t--accent-color: #427AA9;\r\n\t\t--danger-color: #E7493D;\r\n\t\t--grey-color: #ededed;\r\n\t\t--low-elevation: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);\r\n\t\t--high-elevation: 0 6px 6px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);\r\n\t\tfont-family: sans-serif;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\ttext-decoration: none;\r\n\t\t-moz-appearance: none;\r\n\t\toutline: none;\r\n\t}\r\n\ta, button {\r\n\t\tcursor: pointer;\r\n\t}\r\n`\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalStyle />\r\n    <Provider store={createStore(reducer)}>\r\n      <BrowserRouter>\r\n        <Header />\r\n        <Books />\r\n        <Footer />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}