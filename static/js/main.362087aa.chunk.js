(this["webpackJsonponline-store"]=this["webpackJsonponline-store"]||[]).push([[0],{198:function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"showBooks",(function(){return v})),e.d(r,"sortBooks",(function(){return w})),e.d(r,"filterBooks",(function(){return m})),e.d(r,"addToCart",(function(){return y})),e.d(r,"removeFromCart",(function(){return k})),e.d(r,"showCart",(function(){return C})),e.d(r,"hideCart",(function(){return S}));var o=e(1),i=e(2),c=e(0),a=e.n(c),u=e(27),s=e.n(u),d=e(3),l=e(6),b=e(71),p=e.n(b),h=e(4),x={isReady:!1,items:[],sortBy:"placeholder",filterBy:""};var f=e(78),j={items:[],isCartShown:!1};var O=Object(l.c)({books:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SHOW_BOOKS":return Object(h.a)(Object(h.a)({},t),{},{items:n.payload,isReady:!0});case"SORT_BOOKS":return Object(h.a)(Object(h.a)({},t),{},{sortBy:n.payload});case"FILTER_BOOKS":return Object(h.a)(Object(h.a)({},t),{},{filterBy:n.payload});case"BOOKS_ARE_READY":return Object(h.a)(Object(h.a)({},t),{},{isReady:n.payload});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_TO_CART":return Object(h.a)(Object(h.a)({},t),{},{items:[].concat(Object(f.a)(t.items),[n.payload]),isShown:!1});case"REMOVE_FROM_CART":return Object(h.a)(Object(h.a)({},t),{},{items:t.items.filter((function(t){return t.id!==n.payload})),isShown:!0});case"SHOW_CART":return Object(h.a)(Object(h.a)({},t),{},{isShown:!0});case"HIDE_CART":return Object(h.a)(Object(h.a)({},t),{},{isShown:!1});default:return t}}});var g=e(10),v=function(t){return{type:"SHOW_BOOKS",payload:t}},w=function(t){return{type:"SORT_BOOKS",payload:t}},m=function(t){return{type:"FILTER_BOOKS",payload:t}},y=function(t){return{type:"ADD_TO_CART",payload:t}},k=function(t){return{type:"REMOVE_FROM_CART",payload:t}},C=function(){return{type:"SHOW_CART"}},S=function(){return{type:"HIDE_CART"}},B=e(74),R=e.n(B);function _(){var t=Object(i.a)(["\n\tbackground-color: var(--accent-color);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\tpadding: 10px;\n\tmargin: 10px;\n\tcursor: pointer;\n\tfont-size: 15px;\n\theight: 37px;\n"]);return _=function(){return t},t}function T(){var t=Object(i.a)(["\n\tfont-weight: 600;\n\tmargin: 10px;\n\twidth: 32px;\n"]);return T=function(){return t},t}function A(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n"]);return A=function(){return t},t}function z(){var t=Object(i.a)(["\n\tmargin: 0 10px;\n\tcolor: grey;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"]);return z=function(){return t},t}function E(){var t=Object(i.a)(["\n\tfont-size: 17px;\n\tmargin: 10px;\n\tfont-weight: 500;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"]);return E=function(){return t},t}function D(){var t=Object(i.a)(["\n\twidth: 100%;\n\tdisplay: block;\n\theight: 250px;\n\tmargin: 0 auto;\n\tborder-radius: 4px 4px 0 0;\n\t@media (max-width: 360px) {\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tborder-radius: 10px 10px 0 0;\n\t}\n"]);return D=function(){return t},t}function F(){var t=Object(i.a)(["\n\twidth: 180px;\n\tmargin-top: 10px;\n\tbox-shadow: var(--low-elevation);\n\tborder-radius: 4px;\n\n\t&:hover {\n\t\tbox-shadow: var(--high-elevation);\n\t}\n"]);return F=function(){return t},t}var K=d.b.li(F()),H=d.b.img(D()),I=d.b.h3(E()),L=d.b.p(z()),M=d.b.div(A()),W=d.b.p(T()),J=d.b.button(_()),N=Object(g.b)((function(){return{}}),(function(t){return Object(h.a)({},Object(l.b)(r,t))}))((function(t){return Object(o.jsxs)(K,{children:[Object(o.jsx)(H,{src:t.image,alt:""}),Object(o.jsx)(I,{children:t.title}),Object(o.jsx)(L,{children:t.author}),Object(o.jsxs)(M,{children:[Object(o.jsxs)(W,{children:["$",t.price]}),Object(o.jsx)(J,{onClick:t.addToCart.bind(undefined,t),children:"Add to cart"})]})]})}));function V(){var t=Object(i.a)(["\n\tcolor: grey;\n\tbackground-color: transparent;\n\tborder: 2px solid var(--accent-color);\n\toutline: none;\n\theight: 36px;\n\twidth: 40%;\n\tmax-width: 180px;\n\tfont-size: 16px;\n\tline-height: 1;\n\tborder-radius: 4px;\n\tmargin: 8px;\n\tpadding: 6px;\n\t\n\t::placeholder {\n\t\topacity: 1;\n\t}\n"]);return V=function(){return t},t}function $(){var t=Object(i.a)(["\n\tcolor: grey;\n\tbackground-color: transparent;\n\tborder: 2px solid var(--accent-color);\n\toutline: none;\n\theight: 36px;\n\twidth: 180px;\n\tfont-size: 16px;\n\tline-height: 1;\n\tborder-radius: 4px;\n\tmargin: 8px;\n\tpadding: 6px;\n\n\t& > option:first-child {\n\t\tdisplay: none;\n\t}\n"]);return $=function(){return t},t}function P(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 10px;\n"]);return P=function(){return t},t}var Y=d.b.form(P()),q=d.b.select($()),G=d.b.input(V()),Q=function(t){var n=t.sortBooks,e=t.sortBy,r=t.filterBooks,i=t.filterBy;return Object(o.jsxs)(Y,{children:[Object(o.jsxs)(q,{value:e,onChange:function(t){return n(t.target.value)},children:[Object(o.jsx)("option",{disabled:!0,value:"placeholder",children:"Sort by"}),Object(o.jsx)("option",{value:"rating",children:"Rating"}),Object(o.jsx)("option",{value:"price",children:"Price"}),Object(o.jsx)("option",{value:"newness",children:"Newness"}),Object(o.jsx)("option",{value:"title",children:"Title"}),Object(o.jsx)("option",{value:"author",children:"Author"})]}),Object(o.jsx)(G,{type:"search",onChange:function(t){return r(t.target.value)},value:i,placeholder:"Search"})]})},U=Object(g.b)((function(t){return{sortBy:t.books.sortBy}}),(function(t){return Object(h.a)({},Object(l.b)(r,t))}))(Q);function X(){var t=Object(i.a)(["\n\theight: 30px;\n\twidth: 130px;\n\tdisplay: block;\n\tfont-weight: bold;\n\tcolor: var(--accent-color);\n\tmargin: 100px auto;\n\tfont-size: 18px;\n"]);return X=function(){return t},t}function Z(){var t=Object(i.a)(["\n\tbackground-color: var(--accent-color);\n\tcolor: white;\n\tborder: none;\n\tdisplay: block;\n\tborder-radius: 4px;\n\tpadding: 10px;\n\tfont-size: 18px;\n\twidth: 250px;\n\ttext-align: center;\n\tmargin: 20px auto;\n"]);return Z=function(){return t},t}function tt(){var t=Object(i.a)(["\n\tborder-radius: 50%;\n\twidth: 50px;\n\theight: 50px;\n\tposition: absolute;\n\ttop: 30vh;\n\tleft: calc(50% - 27px);\n\tborder-top: 5px solid gainsboro;\n\tborder-right: 5px solid gainsboro;\n\tborder-bottom: 5px solid gainsboro;\n\tborder-left: 5px solid var(--accent-color);\n\tanimation: loading 1s infinite linear;\n\t\n\t&:after {\n\t\tborder-radius: 50%;\n\t\twidth: 50px;\n\t\theight: 50px;\n\t}\n\t\n\t@keyframes loading {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n"]);return tt=function(){return t},t}function nt(){var t=Object(i.a)(["\n\tdisplay: grid;\n\tgrid-gap: 5px;\n\tgrid-template-columns: repeat(auto-fill, 180px);\n\tlist-style-type: none;\n\tjustify-content: space-evenly;\n\tposition: relative;\n"]);return nt=function(){return t},t}function et(){var t=Object(i.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tmargin: 0 auto;\n\tmax-width: 1000px;\n\tmin-height: 100vh;\n"]);return et=function(){return t},t}var rt=d.b.div(et()),ot=d.b.ul(nt()),it=d.b.div(tt()),ct=d.b.a(Z()),at=d.b.p(X());var ut=e(18),st=e.n(ut),dt=function(t,n,e){switch(t=t.filter((function(t){return t.title.toLowerCase().indexOf(e.toLowerCase())>=0||t.author.toLowerCase().indexOf(e.toLowerCase())>=0})),n){case"price":return st()(t,"price","asc");case"title":return st()(t,"title","asc");case"author":return st()(t,"author","asc");default:return st()(t,"rating","desc")}},lt=Object(g.b)((function(t){var n=t.books;return{books:n.items?dt(n.items,n.sortBy,n.filterBy):null,isReady:n.isReady}}),(function(t){return Object(h.a)({},Object(l.b)(r,t))}))((function(t){var n=t.books,e=t.isReady,r=t.showBooks;return Object(c.useEffect)((function(){R.a.get("http://localhost:3000/online-store/books.json").then((function(t){r(t.data)}))}),[r]),Object(o.jsxs)(rt,{children:[Object(o.jsx)(U,{}),e?Object(o.jsxs)("div",{children:[Object(o.jsxs)(ot,{children:[n.map((function(t,n){return Object(o.jsx)(N,Object(h.a)({},t),n)})),0===n.length&&Object(o.jsx)(at,{children:"Nothing found"})]}),Object(o.jsx)(ct,{children:"Browse more books"})]}):Object(o.jsx)(it,{})]})})),bt=e.p+"static/media/book.60b02366.svg",pt=e.p+"static/media/cart.c058d20a.svg",ht=e(28),xt=e.p+"static/media/close.2548618f.svg";function ft(){var t=Object(i.a)(["\n\tcolor: var(--accent-color);\n\tfont-size: 20px;\n\tmargin-left: 10px;\n\tfont-weight: bold;\n\tdisplay: inline;\n\tline-height: 60px;\n"]);return ft=function(){return t},t}function jt(){var t=Object(i.a)(["\n\tbackground-color: var(--accent-color);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\tpadding: 10px;\n\tfont-size: 15px;\n\tmargin: 10px 10px 10px auto;\n"]);return jt=function(){return t},t}function Ot(){var t=Object(i.a)(["\n\tmargin: 10px;\n\tmin-width: 20px;\n\tfont-weight: bold;\n\tfont-size: 18px;\n\tcolor: var(--accent-color);\n"]);return Ot=function(){return t},t}function gt(){var t=Object(i.a)(["\n\tdisplay: flex;\n\talign-items: center;\n"]);return gt=function(){return t},t}function vt(){var t=Object(i.a)(["\n\tbackground-color: var(--danger-color);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 4px;\n\tpadding: 10px;\n\tmargin: 10px 10px 10px auto;\n\tcursor: pointer;\n\tfont-size: 15px;\n\theight: 37px;\n"]);return vt=function(){return t},t}function wt(){var t=Object(i.a)(["\n\tcolor: grey;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"]);return wt=function(){return t},t}function mt(){var t=Object(i.a)(["\n\tfont-size: 17px;\n\tfont-weight: 500;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n"]);return mt=function(){return t},t}function yt(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\tmin-width: 150px;\n\tgrid-area: desc;\n"]);return yt=function(){return t},t}function kt(){var t=Object(i.a)(["\n\theight: 70px;\n\twidth: auto;\n\tmargin: 5px 10px;\n\tgrid-area: img;\n"]);return kt=function(){return t},t}function Ct(){var t=Object(i.a)(["\n\tdisplay: grid;\n\twidth: 100%;\n\talign-items: center;\n\tgrid-template-rows: 80px;\n\tgrid-template-columns: 70px 1fr 30px 100px;\n\tgrid-template-areas: 'img desc count btn';\n"]);return Ct=function(){return t},t}function St(){var t=Object(i.a)(["\n\tbackground-color: transparent;\n\tbackground-image: url(",");\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\theight: 60px;\n\twidth: 28px;\n\tborder: none;\n\tmargin: 0 20px;\n\tcursor: pointer;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tdisplay: inline;\n"]);return St=function(){return t},t}function Bt(){var t=Object(i.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\twidth: 100%;\n\tmin-height: 60px;\n\tmax-width: 400px;\n\tbackground-color: white;\n\tborder-radius: 0 0 4px 4px;\n\tbox-shadow: var(--low-elevation);\n"]);return Bt=function(){return t},t}var Rt=d.b.div(Bt()),_t=d.b.button(St(),xt),Tt=d.b.div(Ct()),At=d.b.img(kt()),zt=d.b.div(yt()),Et=d.b.h3(mt()),Dt=d.b.p(wt()),Ft=d.b.button(vt()),Kt=d.b.div(gt()),Ht=d.b.p(Ot()),It=Object(d.b)(ht.b)(jt()),Lt=d.b.p(ft());var Mt=Object(g.b)((function(t){var n,e,r=t.cart;return{total:r.items.reduce((function(t,n){return t+n.price}),0).toFixed(1),items:(n=r.items,e="id",Array.from(new Set(n.map((function(t){return t[e]})))).map((function(t){var r=n.filter((function(n){return n[e]===t}));return Object(h.a)({count:r.length},r[0])}))),count:r.items.length,hideCart:r.isShown=!1}}),(function(t){return Object(h.a)({},Object(l.b)(r,t))}))((function(t){var n=t.total,e=t.count,r=t.items,i=t.removeFromCart,c=t.hideCart;return Object(o.jsxs)(Rt,{children:[Object(o.jsx)(Lt,{children:"Cart"}),e?Object(o.jsxs)("div",{children:[r.map((function(t){return Object(o.jsxs)(Tt,{children:[Object(o.jsx)(At,{src:t.image}),Object(o.jsxs)(zt,{children:[Object(o.jsx)(Et,{children:t.title}),Object(o.jsx)(Dt,{children:t.author})]}),Object(o.jsx)(Ht,{children:t.count}),Object(o.jsx)(Ft,{onClick:i.bind(undefined,t.id),children:"Remove"})]},t.id)})),Object(o.jsxs)(Kt,{children:[Object(o.jsxs)(Ht,{children:["Total: ",e," book",1!==e&&"s"," worth $",n]}),Object(o.jsx)(It,{to:"/checkout",children:"Checkout"})]})]}):Object(o.jsx)(Lt,{children:"is empty"}),Object(o.jsx)(_t,{onClick:c})]})}));function Wt(){var t=Object(i.a)(["\n\twidth: 16px;\n\theight: 16px;\n\tfont-size: 13px;\n\tline-height: 15px;\n\tcolor: white;\n\tfont-weight: bold;\n\tborder-radius: 50%;\n\tbackground-color: var(--danger-color);\n\tposition: absolute;\n\ttop: 0;\n\tright: -2px;\n"]);return Wt=function(){return t},t}function Jt(){var t=Object(i.a)(["\n\tbackground-color: transparent;\n\tbackground-image: url(",");\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\theight: 36px;\n\twidth: 28px;\n\tborder: none;\n\tmargin: 0 20px 0 auto;\n\tposition: relative;\n\tcursor: pointer;\n"]);return Jt=function(){return t},t}function Nt(){var t=Object(i.a)(["\n\tfont-weight: bold;\n\tmargin-left: 5px;\n\tfont-size: 20px;\n\tcolor: var(--accent-color);\n"]);return Nt=function(){return t},t}function Vt(){var t=Object(i.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 20px;\n\ttext-decoration: none;\n"]);return Vt=function(){return t},t}function $t(){var t=Object(i.a)(["\n\tbox-shadow: var(--low-elevation);\n\theight: 60px;\n\tdisplay: flex;\n\ttop: 0;\n\tz-index: 1;\n\tbackground-color: white;\n\tborder-radius: 0 0 4px 4px;\n\talign-items: center;\n\tposition: sticky;\n\twidth: 100%;\n\tmax-width: 1000px;\n\tmargin: 0 auto;\n"]);return $t=function(){return t},t}var Pt=d.b.header($t()),Yt=d.b.a(Vt()),qt=d.b.h1(Nt()),Gt=d.b.button(Jt(),pt),Qt=d.b.div(Wt());var Ut=Object(g.b)((function(t){var n=t.cart;return{count:n.items.length,isShown:n.isShown,showCart:n.isShown=!0}}),(function(t){return Object(h.a)({},Object(l.b)(r,t))}))((function(t){var n=t.count,e=t.isShown,r=t.showCart;return Object(o.jsxs)(Pt,{children:[Object(o.jsxs)(Yt,{href:"#",children:[Object(o.jsx)("img",{src:bt,alt:""}),Object(o.jsx)(qt,{children:"Bookstore"})]}),Object(o.jsx)(Gt,{onClick:r,children:n>0&&Object(o.jsx)(Qt,{children:n})}),e&&Object(o.jsx)(Mt,{})]})}));function Xt(){var t=Object(i.a)(["\n\tdisplay: block;\n\ttext-transform: lowercase;\n\tfont-family: serif;\n\tcolor: grey;\n\tmargin: 0 auto;\n"]);return Xt=function(){return t},t}function Zt(){var t=Object(i.a)(["\n\tbox-shadow: var(--low-elevation);\n\theight: 60px;\n\tdisplay: flex;\n\tbackground-color: white;\n\tborder-radius: 4px 4px 0 0;\n\talign-items: center;\n\twidth: 100%;\n\tmax-width: 1000px;\n\tmargin: 20px auto 0 auto;\n\tposition: relative;\n\tbottom: 0;\n"]);return Zt=function(){return t},t}var tn=d.b.footer(Zt()),nn=d.b.a(Xt()),en=function(){return Object(o.jsx)(tn,{children:Object(o.jsx)(nn,{href:"https://infret.github.io",children:Object(o.jsx)("i",{children:"by Infret"})})})};function rn(){var t=Object(i.a)(["\n\t* {\n\t\t--accent-color: #427AA9;\n\t\t--danger-color: #E7493D;\n\t\t--low-elevation: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);\n\t\t--high-elevation: 0 6px 6px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);\n\t\tfont-family: sans-serif;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\ttext-decoration: none;\n\t\t-moz-appearance: none;\n\t}\n"]);return rn=function(){return t},t}var on=Object(d.a)(rn());s.a.render(Object(o.jsxs)(a.a.StrictMode,{children:[Object(o.jsx)(on,{}),Object(o.jsx)(g.a,{store:Object(l.d)(O,Object(l.a)(p.a)),children:Object(o.jsxs)(ht.a,{children:[Object(o.jsx)(Ut,{}),Object(o.jsx)(lt,{}),Object(o.jsx)(en,{})]})})]}),document.getElementById("root"))}},[[198,1,2]]]);
//# sourceMappingURL=main.362087aa.chunk.js.map