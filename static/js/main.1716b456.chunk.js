(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{45:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"showBooks",(function(){return p})),e.d(r,"sortBooks",(function(){return h})),e.d(r,"filterBooks",(function(){return f})),e.d(r,"addToCart",(function(){return x})),e.d(r,"removeFromCart",(function(){return j})),e.d(r,"toggleCart",(function(){return g}));var o=e(1),i=e(2),c=e(0),a=e.n(c),u=e(12),s=e.n(u),l=e(3),d=e(9),b=e(5),p=function(n){return{type:"SHOW_BOOKS",payload:n}},h=function(n){return{type:"SORT_BOOKS",payload:n}},f=function(n){return{type:"FILTER_BOOKS",payload:n}},x=function(n){return{type:"ADD_TO_CART",payload:n}},j=function(n){return{type:"REMOVE_FROM_CART",payload:n}},g=function(){return{type:"TOGGLE_CART"}};function O(){var n=Object(i.a)(["\n  background-color: var(--accent-color);\n  color: white;\n  border: var(--accent-color) solid 2px;\n  border-radius: 4px;\n  padding: 10px;\n  margin: 10px;\n  font-size: 15px;\n  transition: ease 0.4s;\n\n  :hover {\n    color: var(--accent-color);\n    background-color: white;\n  }\n"]);return O=function(){return n},n}function v(){var n=Object(i.a)(["\n  font-weight: 600;\n  margin: 10px;\n  width: 32px;\n"]);return v=function(){return n},n}function m(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return m=function(){return n},n}function w(){var n=Object(i.a)(["\n  margin: 0 10px;\n  color: grey;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return w=function(){return n},n}function y(){var n=Object(i.a)(["\n  font-size: 17px;\n  margin: 10px;\n  font-weight: 500;\n  width: 90%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return y=function(){return n},n}function k(){var n=Object(i.a)(["\n  width: 100%;\n  display: block;\n  height: 250px;\n  margin: 0 auto;\n  border-radius: 4px 4px 0 0;\n  @media (max-width: 360px) {\n    width: 100%;\n    height: auto;\n  }\n"]);return k=function(){return n},n}function C(){var n=Object(i.a)(["\n  width: 180px;\n  margin-top: 10px;\n  box-shadow: var(--low-elevation);\n  border-radius: 4px;\n  transition: ease 0.4s;\n\n  :hover {\n    box-shadow: var(--high-elevation);\n  }\n"]);return C=function(){return n},n}var B=l.b.li(C()),S=l.b.img(k()),R=l.b.h3(y()),T=l.b.p(w()),z=l.b.div(m()),I=l.b.p(v()),_=l.b.button(O()),E=function(n){return Object(o.jsxs)(B,{children:[Object(o.jsx)(S,{src:n.image,alt:""}),Object(o.jsx)(R,{children:n.title}),Object(o.jsx)(T,{children:n.author}),Object(o.jsxs)(z,{children:[Object(o.jsxs)(I,{children:["$",n.price]}),Object(o.jsx)(_,{onClick:n.addToCart.bind(undefined,n.id),children:"Add to cart"})]})]})},A=e(6),F=Object(d.b)((function(){return{}}),(function(n){return Object(b.a)({},Object(A.b)(r,n))}))(E);function L(){var n=Object(i.a)(["\n  color: grey;\n  background-color: transparent;\n  border: 2px solid var(--accent-color);\n  outline: none;\n  height: 36px;\n  width: 200px;\n  font-size: 16px;\n  line-height: 1;\n  border-radius: 4px;\n  margin: 8px;\n  padding: 6px;\n  transition: ease 0.4s;\n\n  @media (max-width: 520px) {\n    width: 270px;\n  }\n\n  :placeholder {\n    opacity: 1;\n  }\n\n  :hover {\n    background-color: var(--grey-color);\n  }\n"]);return L=function(){return n},n}function K(){var n=Object(i.a)(["\n  color: grey;\n  background-color: transparent;\n  border: 2px solid var(--accent-color);\n  outline: none;\n  height: 36px;\n  width: 200px;\n  font-size: 16px;\n  line-height: 1;\n  border-radius: 4px;\n  margin: 8px;\n  padding: 6px;\n  opacity: 1;\n  transition: ease 0.4s;\n\n  :hover {\n    background-color: var(--grey-color);\n  }\n\n  & > option:first-child {\n    display: none;\n  }\n"]);return K=function(){return n},n}function D(){var n=Object(i.a)(["\n  font-weight: bold;\n  font-size: 16px;\n  color: var(--accent-color);\n  margin-left: 10px;\n"]);return D=function(){return n},n}function G(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  margin-top: 10px;\n"]);return G=function(){return n},n}var M=l.b.form(G()),H=l.b.label(D()),J=l.b.select(K()),V=l.b.input(L()),W=function(n){var t=n.sortBooks,e=n.sortBy,r=n.filterBooks,i=n.filterBy;return Object(o.jsxs)(M,{children:[Object(o.jsx)(V,{type:"search",onChange:function(n){return r(n.target.value)},value:i,placeholder:"Search"}),Object(o.jsxs)("div",{children:[Object(o.jsx)(H,{htmlFor:"sortby",children:"Sort by:"}),Object(o.jsxs)(J,{id:"sortby",value:e,onChange:function(n){return t(n.target.value)},children:[Object(o.jsx)("option",{disabled:!0,value:"placeholder",children:"Sort by"}),Object(o.jsx)("option",{value:"rating",children:"Rating"}),Object(o.jsx)("option",{value:"price",children:"Price"}),Object(o.jsx)("option",{value:"title",children:"Title"}),Object(o.jsx)("option",{value:"author",children:"Author"})]})]})]})},$=Object(d.b)((function(n){return{sortBy:n.sortBy,filterBy:n.filterBy}}),(function(n){return Object(b.a)({},Object(A.b)(r,n))}))(W);function N(){var n=Object(i.a)(["\n  height: 30px;\n  width: 130px;\n  display: block;\n  font-weight: bold;\n  color: var(--accent-color);\n  margin: 100px auto;\n  font-size: 18px;\n"]);return N=function(){return n},n}function P(){var n=Object(i.a)(["\n  background-color: var(--accent-color);\n  color: white;\n  display: block;\n  border-radius: 4px;\n  padding: 10px;\n  font-size: 18px;\n  width: 250px;\n  text-align: center;\n  margin: 20px auto;\n  border: var(--accent-color) solid 2px;\n  transition: ease 0.4s;\n\n  :hover {\n    color: var(--accent-color);\n    background-color: white;\n  }\n"]);return P=function(){return n},n}function q(){var n=Object(i.a)(["\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  top: 30vh;\n  left: calc(50% - 27px);\n  border: 5px solid gainsboro;\n  border-left: 5px solid var(--accent-color);\n  animation: loading 1s infinite linear;\n\n  :after {\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n  }\n\n  @keyframes loading {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return q=function(){return n},n}function Q(){var n=Object(i.a)(["\n  display: grid;\n  grid-gap: 5px;\n  grid-template-columns: repeat(auto-fill, 180px);\n  list-style-type: none;\n  justify-content: space-evenly;\n  position: relative;\n"]);return Q=function(){return n},n}function U(){var n=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  max-width: 1000px;\n  min-height: 90vh;\n"]);return U=function(){return n},n}var X=l.b.div(U()),Y=l.b.ul(Q()),Z=l.b.div(q()),nn=l.b.a(P()),tn=l.b.p(N());var en=function(n,t,e){switch(n=n.filter((function(n){return n.title.toLowerCase().indexOf(e.toLowerCase())>=0||n.author.toLowerCase().indexOf(e.toLowerCase())>=0})),t){case"price":return n.sort((function(n,t){return n.price-t.price}));case"title":return n.sort((function(n,t){return n.title.localeCompare(t.title)}));case"author":return n.sort((function(n,t){return n.author.localeCompare(t.author)}));default:return n.sort((function(n,t){return t.rating-n.rating}))}},rn=Object(d.b)((function(n){return{books:n.items?en(n.items,n.sortBy,n.filterBy):[],isReady:n.isReady}}),(function(n){return Object(b.a)({},Object(A.b)(r,n))}))((function(n){var t=n.books,e=n.isReady,r=n.showBooks;return Object(c.useEffect)((function(){fetch("https://cors-anywhere.herokuapp.com/https://infret.github.io/book-store/books.json",{method:"GET"}).then((function(n){return n.json()})).then((function(n){r(n)}))}),[r]),Object(o.jsxs)(X,{children:[Object(o.jsx)($,{}),e?Object(o.jsxs)("div",{children:[Object(o.jsxs)(Y,{children:[t.map((function(n,t){return Object(o.jsx)(F,Object(b.a)({},n),t)})),0===t.length&&Object(o.jsx)(tn,{children:"Nothing found"})]}),Object(o.jsx)(nn,{children:"Browse more books"})]}):Object(o.jsx)(Z,{})]})})),on=e.p+"static/media/book.60b02366.svg",cn=e.p+"static/media/cart.c058d20a.svg",an=e(14),un=e(13),sn=e.p+"static/media/close.2548618f.svg";function ln(){var n=Object(i.a)(["\n  color: var(--accent-color);\n  font-size: 20px;\n  margin-left: 10px;\n  font-weight: bold;\n  display: inline;\n  line-height: 60px;\n"]);return ln=function(){return n},n}function dn(){var n=Object(i.a)(["\n  background-color: var(--accent-color);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px;\n  font-size: 15px;\n  margin: 10px 10px 10px auto;\n"]);return dn=function(){return n},n}function bn(){var n=Object(i.a)(["\n  margin: 10px;\n  min-width: 20px;\n  font-weight: bold;\n  font-size: 18px;\n  color: var(--accent-color);\n"]);return bn=function(){return n},n}function pn(){var n=Object(i.a)(["\n  display: flex;\n  align-items: center;\n"]);return pn=function(){return n},n}function hn(){var n=Object(i.a)(["\n  background-color: var(--danger-color);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px;\n  margin: 10px 10px 10px auto;\n  font-size: 15px;\n  height: 37px;\n"]);return hn=function(){return n},n}function fn(){var n=Object(i.a)(["\n  color: grey;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return fn=function(){return n},n}function xn(){var n=Object(i.a)(["\n  font-size: 17px;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return xn=function(){return n},n}function jn(){var n=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-width: 150px;\n  grid-area: desc;\n"]);return jn=function(){return n},n}function gn(){var n=Object(i.a)(["\n  height: 70px;\n  width: auto;\n  margin: 5px 10px;\n  grid-area: img;\n"]);return gn=function(){return n},n}function On(){var n=Object(i.a)(["\n  display: grid;\n  width: 100%;\n  align-items: center;\n  grid-template-rows: 80px;\n  grid-template-columns: 70px 1fr 20px 100px;\n  grid-template-areas: 'img desc count btn';\n"]);return On=function(){return n},n}function vn(){var n=Object(i.a)(["\n  background-color: white;\n  background-image: url(",");\n  background-position: center;\n  background-repeat: no-repeat;\n  border: none;\n  margin: 0 20px;\n  position: absolute;\n  top: 10px;\n  right: 0;\n  display: inline;\n  border-radius: 5px;\n  padding: 6px;\n  height: 40px;\n  width: 40px;\n  transition: ease 0.4s;\n\n  :hover {\n    background-color: var(--grey-color);\n  }\n"]);return vn=function(){return n},n}function mn(){var n=Object(i.a)(["\n  overflow-y: auto;\n  max-height: calc(90vh - 120px);\n"]);return mn=function(){return n},n}function wn(){var n=Object(i.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 100%;\n  min-height: 60px;\n  max-height: 90vh;\n  max-width: 400px;\n  background-color: white;\n  border-radius: 0 0 4px 4px;\n  box-shadow: var(--low-elevation);\n"]);return wn=function(){return n},n}var yn=l.b.div(wn()),kn=l.b.div(mn()),Cn=l.b.button(vn(),sn),Bn=l.b.div(On()),Sn=l.b.img(gn()),Rn=l.b.div(jn()),Tn=l.b.h3(xn()),zn=l.b.p(fn()),In=l.b.button(hn()),_n=l.b.div(pn()),En=l.b.p(bn()),An=Object(l.b)(un.b)(dn()),Fn=l.b.p(ln()),Ln=function(n){var t=n.total,e=n.cartCount,r=n.cartItems,i=n.removeFromCart,c=n.toggleCart;return Object(o.jsxs)(yn,{children:[Object(o.jsx)(Fn,{children:"Cart"}),e?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(kn,{children:r.map((function(n){return Object(o.jsxs)(Bn,{children:[Object(o.jsx)(Sn,{src:n.image}),Object(o.jsxs)(Rn,{children:[Object(o.jsx)(Tn,{children:n.title}),Object(o.jsx)(zn,{children:n.author})]}),Object(o.jsx)(En,{children:n.count}),Object(o.jsx)(In,{onClick:i.bind(undefined,n.id),children:"Remove"})]},n.id)}))}),Object(o.jsxs)(_n,{children:[Object(o.jsxs)(En,{children:["Total: ",e," book",1!==e&&"s"," worth $",t]}),Object(o.jsx)(An,{to:"/checkout",children:"Checkout"})]})]}):Object(o.jsx)(Fn,{children:"is empty"}),Object(o.jsx)(Cn,{onClick:c})]})};var Kn=Object(d.b)((function(n){return{cartItems:(t=n.cartItems,t.forEach((function(n){n.count=t.filter((function(t){return t.id===n.id})).length})),Object(an.a)(new Set(t))),total:parseInt(n.cartItems.reduce((function(n,t){return n+t.price}),0).toFixed(1)),cartCount:n.cartItems.length};var t}),(function(n){return Object(b.a)({},Object(A.b)(r,n))}))(Ln);function Dn(){var n=Object(i.a)(["\n  width: 16px;\n  height: 16px;\n  font-size: 13px;\n  line-height: 15px;\n  color: white;\n  font-weight: bold;\n  border-radius: 50%;\n  background-color: var(--danger-color);\n  position: absolute;\n  top: 0;\n  right: -2px;\n"]);return Dn=function(){return n},n}function Gn(){var n=Object(i.a)(["\n  background-color: white;\n  background-image: url(",");\n  background-position: center;\n  background-repeat: no-repeat;\n  border: none;\n  margin: 0 20px 0 auto;\n  position: relative;\n  border-radius: 5px;\n  padding: 6px;\n  height: 40px;\n  width: 40px;\n  transition: ease 0.4s;\n\n  :hover {\n    background-color: var(--grey-color);\n  }\n"]);return Gn=function(){return n},n}function Mn(){var n=Object(i.a)(["\n  font-weight: bold;\n  margin-left: 5px;\n  font-size: 20px;\n  color: var(--accent-color);\n"]);return Mn=function(){return n},n}function Hn(){var n=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px;\n  text-decoration: none;\n"]);return Hn=function(){return n},n}function Jn(){var n=Object(i.a)(["\n  box-shadow: var(--low-elevation);\n  height: 60px;\n  display: flex;\n  top: 0;\n  z-index: 1;\n  background-color: white;\n  border-radius: 0 0 4px 4px;\n  align-items: center;\n  position: sticky;\n  width: 100%;\n  max-width: 1000px;\n  margin: 0 auto;\n"]);return Jn=function(){return n},n}var Vn=l.b.header(Jn()),Wn=l.b.a(Hn()),$n=l.b.h1(Mn()),Nn=l.b.button(Gn(),cn),Pn=l.b.div(Dn()),qn=function(n){var t=n.count,e=n.toggleCart,r=n.isCartShown;return Object(o.jsxs)(Vn,{children:[Object(o.jsxs)(Wn,{href:"#",children:[Object(o.jsx)("img",{src:on,alt:""}),Object(o.jsx)($n,{children:"Bookstore"})]}),Object(o.jsx)(Nn,{onClick:e,children:t>0&&Object(o.jsx)(Pn,{children:t})}),r&&Object(o.jsx)(Kn,{})]})},Qn=Object(d.b)((function(n){return{count:n.cartItems.length,toggleCart:n.toggleCart,isCartShown:n.isCartShown}}),(function(n){return Object(b.a)({},Object(A.b)(r,n))}))(qn);function Un(){var n=Object(i.a)(["\n\tdisplay: block;\n\ttext-transform: lowercase;\n\tfont-family: serif;\n\tcolor: grey;\n\tmargin: 0 auto;\n"]);return Un=function(){return n},n}function Xn(){var n=Object(i.a)(["\n\tbox-shadow: var(--low-elevation);\n\theight: 60px;\n\tdisplay: flex;\n\tbackground-color: white;\n\tborder-radius: 4px 4px 0 0;\n\talign-items: center;\n\twidth: 100%;\n\tmax-width: 1000px;\n\tmargin: 20px auto 0 auto;\n\tposition: relative;\n\tbottom: 0;\n"]);return Xn=function(){return n},n}var Yn=l.b.footer(Xn()),Zn=l.b.a(Un()),nt=function(){return Object(o.jsx)(Yn,{children:Object(o.jsx)(Zn,{href:"https://infret.github.io",children:Object(o.jsx)("i",{children:"by Infret"})})})},tt={items:[],isCartShown:!1,isReady:!1,cartItems:[],sortBy:"",filterBy:""};var et=e(28),rt=e.n(et);function ot(){var n=Object(i.a)(["\n\t* {\n\t\t--accent-color: #427AA9;\n\t\t--danger-color: #E7493D;\n\t\t--grey-color: #ededed;\n\t\t--low-elevation: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);\n\t\t--high-elevation: 0 6px 6px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);\n\t\tfont-family: sans-serif;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\ttext-decoration: none;\n\t\t-moz-appearance: none;\n\t\toutline: none;\n\t}\n\ta, button {\n\t\tcursor: pointer;\n\t}\n"]);return ot=function(){return n},n}var it=Object(l.a)(ot());s.a.render(Object(o.jsxs)(a.a.StrictMode,{children:[Object(o.jsx)(it,{}),Object(o.jsx)(d.a,{store:Object(A.c)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_BOOKS":return Object(b.a)(Object(b.a)({},n),{},{items:t.payload,isReady:!0});case"SORT_BOOKS":return Object(b.a)(Object(b.a)({},n),{},{sortBy:t.payload});case"FILTER_BOOKS":return Object(b.a)(Object(b.a)({},n),{},{filterBy:t.payload});case"ADD_TO_CART":return Object(b.a)(Object(b.a)({},n),{},{cartItems:[].concat(Object(an.a)(n.cartItems),[n.items[t.payload]]),isCartShown:!1});case"REMOVE_FROM_CART":return Object(b.a)(Object(b.a)({},n),{},{cartItems:n.cartItems.filter((function(n){return n.id!==t.payload})),isCartShown:!0});case"TOGGLE_CART":return Object(b.a)(Object(b.a)({},n),{},{isCartShown:!n.isCartShown});default:return n}}),Object(A.a)(rt.a)),children:Object(o.jsxs)(un.a,{children:[Object(o.jsx)(Qn,{}),Object(o.jsx)(rn,{}),Object(o.jsx)(nt,{})]})})]}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.1716b456.chunk.js.map